{% extends 'projects/base.html' %}

{% block content %}

<h1>Create a per-project report</h1>

<h3>Get a monthly report</h3>

<form method="GET" action="per_project_report">
  <p>
    <label for="project">Project</label>
    <select name="project">
      {% for project in projects %}
        <option value="{{ project.id }}">{{ project.name }}</option>
      {% endfor %}
    </select>
  </p>
  <p>
    <label for="year">Year</label>
    <input type="number" name="year" value="{{ year_of_previous_month }}" />
  </p>
  <p>
    <label for="month">Month</label>
    <input type="number" name="month" value="{{ previous_month }}" />
  </p>
  <p>
    <input type="submit" value="Get Report" />
  </p>
</form>

<hr>

<h3>Get a custom range report</h3>

<form method="GET" action="per_project_report">
  <p>
    <label for="project">Project</label>
    <select name="project">
      {% for project in projects %}
        <option value="{{ project.id }}">{{ project.name }}</option>
      {% endfor %}
    </select>
  </p>
  <p>
    <label for="from">From: </label>
    <input type="date" name="from" value="{{ first_of_prev_month }}" />
  </p>
  <p>
    <label for="to">To: </label>
    <input type="date" name="to" value="{{ last_of_prev_month }}" />
  </p>
  <p>
    <input type="submit" value="Get Report" />
  </p>
</form>

{% endblock %}
